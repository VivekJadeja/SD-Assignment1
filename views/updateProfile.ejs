<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="descriptison">
  <meta content="" name="keywords">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Odibee+Sans&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="/../assets/css/bootstrap.min.css" rel="stylesheet">
  <link href="/../assets/css/profileRegister.css" rel="stylesheet">
  
</head>

  <body style="background: url(../assets/img/home.jpg) no-repeat center center fixed; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover; color: white;">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark" style="border-top: 1px solid white; border-bottom: 1px solid white; font-size: 20px;">
      <a class="navbar-brand" href="/" style="padding-left: 3%;">Oil & Gas Co</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav" style="padding-left: 30%;">
          <ul class="navbar-nav">
          <li class="nav-item active">
              <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="/requestQuote"> Request Quote <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item active">
            <a class="nav-link" href="/registerProfile"> Update Profile <span class="sr-only">(current)</span></a>
        </li>
          </ul>
      </div>
    </nav>
    <section style="padding-left:30%; padding-top:2%; padding-left:30%">
      <div class="card" style="width: 40rem; height: 39rem; border-radius:20%; border: 1px solid white;">
        <div class="card-body bg-dark">
          <h2 id="form-title" class="card-title" >Update Your Profile</h2>
          <form class="form" action="/updateProfile" method="POST">
            <div>
            
              <label for="fullName">Full Name </label>
              <input onchange="checkIfAnythingChanged()" type="text" value="<%=info.fullName %>" id="fullName" name="fullName" minlength="1" maxlength="50" required>
            </div>
            <div>
              <label for="streetAddress1">Address 1 </label>
              <input onchange="checkIfAnythingChanged()" type="text" value="<%=info.address_1%>" id="streetAddress1" name="streetAddress1" minlength="1" maxlength="100" required>
            </div>
              <label for="streetAddress2">Address 2 </label>
              <input onchange="checkIfAnythingChanged()" type="text" value="<%= info.address_2%>" placeholder="Adress 2" id="streetAddress2" name="streetAddress2" minlength="1" maxlength="100" >
            <div>
              <label for="city">City </label>
              <input onchange="checkIfAnythingChanged()" type="text" value="<%= info.city%>" id="city" name="city" minlength="1" maxlength="100" required>
              <br>
            </div>
            <div>
              <label for="state">State </label>
              <select onchange="checkIfAnythingChanged()" id="state" class="state" name="state" required>
                <option value="N/A" selected></option> <option value="AL">Alabama</option> <option value="AK">Alaska</option> <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option> <option value="CA">California</option> <option value="CO">Colorado</option> <option value="CT">Connecticut</option> 
                <option value="DE">Delaware</option><option value="DC">District Of Columbia</option><option value="FL">Florida</option><option value="GA">Georgia</option>
                <option value="HI">Hawaii</option><option value="ID">Idaho</option> <option value="IL">Illinois</option><option value="IN">Indiana</option>
                <option value="IA">Iowa</option><option value="KS">Kansas</option><option value="KY">Kentucky</option><option value="LA">Louisiana</option>
                <option value="ME">Maine</option><option value="MD">Maryland</option><option value="MA">Massachusetts</option><option value="MI">Michigan</option>
                <option value="MN">Minnesota</option><option value="MS">Mississippi</option><option value="MO">Missouri</option><option value="MT">Montana</option>
                <option value="NE">Nebraska</option><option value="NV">Nevada</option><option value="NH">New Hampshire</option><option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option><option value="NY">New York</option><option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option><option value="OH">Ohio</option><option value="OK">Oklahoma</option><option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option><option value="RI">Rhode Island</option><option value="SC">South Carolina</option><option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option><option value="TX">Texas</option><option value="UT">Utah</option><option value="VT">Vermont</option>
                <option value="VA">Virginia</option><option value="WA">Washington</option><option value="WV">West Virginia</option><option value="WI">Wisconsin</option><option value="WY">Wyoming</option>
              </select>				
            </div>
            <div>
              <label for="zipCode">Zip Code:</label>
              <input onchange="checkIfAnythingChanged()" type="input" value="<%=info.zipCode%>" id="zipCode" name="zipCode" minlength="5" maxlength="9" required>
            </div>
          <div class="wrapper">
            <button type="submit" id="updateButton" class="btn btn-primary" disabled>Update Profile</button>
          </div>
        </form>  
        </div>
      </div> 
    </section>
    
    
  </body>


<script>
  function checkIfAnythingChanged()
  {
    const original = {
      fullName : "<%=info.fullName%>",
      address_1 : "<%=info.address_1 %>",
      address_2 : "<%=info.address_2 %>",
      city : "<%=info.city %>",
      user_state : "<%=info.user_state %>",
      zipCode : "<%=info.zipCode %>"
    }

    let possibleChange = {
      fullName : document.getElementById("fullName").value,
      address_1 : document.getElementById("streetAddress1").value,
      address_2 : document.getElementById("streetAddress2").value,
      city : document.getElementById("city").value,
      user_state : document.getElementById("state").value,
      zipCode : document.getElementById("zipCode").value
    }
    if(original.fullName===possibleChange.fullName && original.address_1===possibleChange.address_1 && original.address_2===possibleChange.address_2 && original.city===possibleChange.city && original.user_state===possibleChange.user_state && original.zipCode===possibleChange.zipCode)
      document.getElementById('updateButton').disabled=true;
    else
      document.getElementById('updateButton').disabled=false;
  }
</script>

<script>
  document.getElementById("state").value="<%=info.user_state %>";
</script>
  </html>
